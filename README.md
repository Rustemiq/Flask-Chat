<h1 align="center">Веб-сайт Flask Chat</h1>
<h3 align="center">Мессенджер</h3>


## Описание программы

Программа - веб-сайт для создания чатов и общения внутри них

Весь функционал доступен при авторизации на сайте.

## Техническое задание

### Цель создания программы
Продемонстрировать навыки создания веб-сайтов на flask.

### Функциональные требования
- Использование микрофреймворка flask
- Использование базы данных (sqlite или любой другой) с применением ORM (sqlalchemy или любой другой)


### Нефункциональные требования 

#### Интерфейс пользователя
- Графический интерфейс пользователя через html

#### Требования к надежности
- Необходимо предусмотреть аутентификацию пользователя и ограничение доступа к приватным данным
 

## Руководство пользователя

### Старт веб-сервера

При запуске программы на локальной машине запускается веб-сервер. Нужно перейти по адресу http://127.0.0.1:8080 или 
иному, предложенному PyCharm. Сервер доступен к развертке в облаке, например на [glitch](http://glitch.com)

### Авторизация и регистрация

Для получения доступа к функционалу нужно зарегистрироваться и авторизоваться, используя соответствующие
кнопки в правой-верхней части сайта

### Навигация

С помощью кнопки Add Chat можно создать чат, добавив туда ваших знакомых. Для этого необходимо ввести их
юзернеймы в появившейся форме. Нажав на появившийся чат на главной, вы перейдете
к его содержимому. Там вы можете написать, изменить или удалить свое сообщение, а также просмотреть чужие.
В сообщение можно вложить файл, который будет доступен для всех участников чата.
Находясь в чате, нажмите кнопку Edit чтобы увидеть список участников. Участников можно добавлять или удалять, как и выйти самому.
Там же вы сможете удалить чат или просто сменить ему название.
Чтобы просмотреть профиль пользователя, нажмите на его имя на той же странице, а свой профиль можно увидеть с
помощью кнопки с вашим именем справа-сверху. Там вы сможете удалить аккаунт или изменить свои данные


## Программные требования

Программа написана на языке Python3 и требует установленного интерпретатора для запуска.
Необходимые библиотеки Python3 перечислены в requirements.txt.

## Установка и запуск

Программа содержит основной запускаемый модуль **server.py** и набор дополнительных файлов в директориях:
 templates - html-шаблоны,
 data - модели для ORM,
 forms - формы для WTForms,
 blueprints - blueprint'ы для приложения,
 db - файл с базой данных,
 media - пользовательские файлы,
 tools - вспомогательные функции,
 api - REST ресурсы,
 корень - набор обработчиков адресов, сгруппированных по объектам применения.
 
Перед запуском программы необходимо создать .env файл с двумя секретными
ключами - secret_key и jwt_secret_key. Используйте случайные, стойкие к брутфорсу ключи.
Для запуска программы следует запустить в интерпретаторе 
(с установленными требуемыми библиотеками) файл **server.py**.

## Использование api

### Авторизация
Для получения доступа к большинству запросов необходимо передавать заголовок
headers со своим JWT токеном. Заголовок должен иметь вид
```Python
headers = {
        'Authorization': ('Bearer ' + token)
    }
```
Для получения своего токена обратитесь по адресу /api/users/login, передав в JSON свой юзернейм и пароль
в полях 'username' и 'password' соответственно

### Запросы к api
Сервер может обрабатывать запросы для чатов, пользователей и сообщений по адресам /api/chats, /api/users, /api/messages
соответственно. Чтобы обратиться к конкретному объекту передайте его id в качестве аргумента в строке.
